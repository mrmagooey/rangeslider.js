/*! rangeslider.js - v2.1.1 | (c) 2016 @andreruffert | MIT license | https://github.com/andreruffert/rangeslider.js */
!function(a){"use strict";"function"==typeof define&&define.amd?define([],a):"object"==typeof exports?module.exports=a():window.Rangeslider=a()}(function(){"use strict";function a(){var a=document.createElement("input");return a.setAttribute("type","range"),"text"!==a.type}function b(a){a=void 0===a?{}:a;for(var b=1;b<arguments.length;b++)if(arguments[b])for(var c in arguments[b])arguments[b].hasOwnProperty(c)&&(a[c]=arguments[b][c]);return a}function c(a,b,c){var d;window.CustomEvent?d=new CustomEvent(b,c):(d=document.createEvent("CustomEvent"),d.initCustomEvent(b,!0,!0,c)),a.dispatchEvent(d)}function d(a,b){a.classList?a.classList.add(b):a.className+=" "+b}function e(a,b){a.classList?a.classList.remove(b):a.className.replace(new RegExp("(^|\\b)"+b.split(" ").join("|")+"(\\b|$)","gi")," ")}function f(a,b){return a.classList?a.classList.contains(b):new RegExp("(^| )"+b+"( |$)","gi").test(a.className)}function g(a,b){b=void 0===b?100:b;var c;return function(){var d,e=this,f=arguments;d=function(){c=null,a.apply(e,f)},clearTimeout(c),c=setTimeout(d,b)}}function h(a){return a&&(0===a.offsetWidth||0===a.offsetHeight||a.open===!1)}function i(a){for(var b=[],c=a.parentNode;h(c);)b.push(c),c=c.parentNode;return b}function j(a,b){function c(a){"undefined"!=typeof a.open&&(a.open=!a.open)}var d=i(a),e=d.length,f=[],g=a[b];if(e){for(var h=0;e>h;h++)f[h]=d[h].style.cssText,d[h].style.setProperty?d[h].style.setProperty("display","block","important"):d[h].style.cssText+=";display: block !important",d[h].style.height="0",d[h].style.overflow="hidden",d[h].style.visibility="hidden",c(d[h]);g=a[b];for(var j=0;e>j;j++)d[j].style.cssText=f[j],c(d[j])}return g}function k(a,b){var c=parseFloat(a);return Number.isNaN(c)?b:c}function l(a){return a.charAt(0).toUpperCase()+a.substr(1)}function m(a,c){return c=void 0===c?{}:c,this.dom={el:a,range:null,handle:null,fill:null},this.options=b({},o,c),this.dom.el.getAttribute("data-orientation")&&(this.options.orientation=this.dom.el.getAttribute("data-orientation")),this.options.polyfill&&n?this:(this.DIMENSION=p.orientation[this.options.orientation].dimension,this.DIRECTION=p.orientation[this.options.orientation].direction,this.DIRECTION_STYLE=p.orientation[this.options.orientation].directionStyle,this.COORDINATE=p.orientation[this.options.orientation].coordinate,this.toFixed=(this.step+"").replace(".","").length-1,this.isDown=!1,this.bind={start:this.handleDown.bind(this),move:this.handleMove.bind(this),end:this.handleEnd.bind(this),resize:this.handleResize.bind(this)},this.init(),this)}Number.isNaN=Number.isNaN||function(a){return"number"==typeof a&&a!==a};var n=a(),o={polyfill:!0,orientation:"horizontal",rangeClass:"rangeslider",disabledClass:"rangeslider--disabled",horizontalClass:"rangeslider--horizontal",verticalClass:"rangeslider--vertical",fillClass:"rangeslider__fill",handleClass:"rangeslider__handle",startEvent:["mousedown","touchstart","pointerdown"],moveEvent:["mousemove","touchmove","pointermove"],endEvent:["mouseup","touchend","pointerup"]},p={orientation:{horizontal:{dimension:"width",direction:"left",directionStyle:"left",coordinate:"x"},vertical:{dimension:"height",direction:"top",directionStyle:"bottom",coordinate:"y"}}};return m.prototype.init=function(){this.setup(),this.addEventListeners(),this.update(!0,!1),this.options.onInit&&"function"==typeof this.options.onInit&&this.options.onInit.call(this)},m.prototype.setup=function(){var a=document.createElement("div"),b=document.createElement("div"),c=document.createElement("div");a.className=this.options.rangeClass+" "+this.options[this.options.orientation+"Class"],b.className=this.options.fillClass,c.className=this.options.handleClass,a.appendChild(b),a.appendChild(c),this.dom.el.parentNode.insertBefore(a,this.dom.el.nextSibling),this.dom.range=a,this.dom.fill=b,this.dom.handle=c,this.dom.el.style.position="absolute",this.dom.el.style.width="1px",this.dom.el.style.height="1px",this.dom.el.style.overflow="hidden",this.dom.el.style.opacity=0},m.prototype.addEventListeners=function(){var a;for(a=0;a<this.options.startEvent.length;a++)this.dom.range.addEventListener(this.options.startEvent[a],this.bind.start);for(a=0;a<this.options.moveEvent.length;a++)document.documentElement.addEventListener(this.options.moveEvent[a],this.bind.move);for(a=0;a<this.options.endEvent.length;a++)document.documentElement.addEventListener(this.options.endEvent[a],this.bind.end);window.addEventListener("resize",g(this.bind.resize,50))},m.prototype.update=function(a,b){a=void 0===a?!1:a,b=void 0===b?!1:b,a&&(this.min=k(this.dom.el.getAttribute("min"),0),this.max=k(this.dom.el.getAttribute("max"),100),this.value=k(this.dom.el.value,Math.round(this.min+(this.max-this.min)/2)),this.step=k(this.dom.el.getAttribute("step"),1)),this.handleDimension=j(this.dom.handle,"offset"+l(this.DIMENSION)),this.rangeDimension=j(this.dom.range,"offset"+l(this.DIMENSION)),this.maxHandlePos=this.rangeDimension-this.handleDimension,this.grabPos=this.handleDimension/2,this.position=this.getPositionFromValue(this.value),this.dom.el.disabled?d(this.dom.range,this.options.disabledClass):e(this.dom.range,this.options.disabledClass),this.setPosition(this.position,b)},m.prototype.handleResize=function(){this.update(!1,!1)},m.prototype.handleDown=function(a){if(!(this.dom.el.disabled||"mousedown"===a.type&&1!==a.which||(this.isDown=!0,f(a.target,this.options.handleClass)))){var b=this.getRelativePosition(a),c=this.dom.range.getBoundingClientRect()[this.DIRECTION],d=this.getPositionFromNode(this.dom.handle)-c,e="vertical"===this.options.orientation?this.maxHandlePos-(b-this.grabPos):b-this.grabPos;this.setPosition(e),b>=d&&b<d+this.handleDimension&&(this.grabPos=b-d)}},m.prototype.handleMove=function(a){if(this.isDown){a.preventDefault();var b=this.getRelativePosition(a),c="vertical"===this.options.orientation?this.maxHandlePos-(b-this.grabPos):b-this.grabPos;this.setPosition(c)}},m.prototype.handleEnd=function(a){this.isDown&&(a.preventDefault(),this.isDown=!1,c(this.dom.el,"change"),this.options.onSlideEnd&&"function"==typeof this.options.onSlideEnd&&this.options.onSlideEnd.call(this,this.position,this.value))},m.prototype.cap=function(a,b,c){return b>a?b:a>c?c:a},m.prototype.setPosition=function(a,b){b=void 0===b?!0:b;var c,d;c=this.getValueFromPosition(this.cap(a,0,this.maxHandlePos)),d=this.getPositionFromValue(c),this.dom.fill.style[this.DIMENSION]=d+this.grabPos+"px",this.dom.handle.style[this.DIRECTION_STYLE]=d+"px",this.setValue(c),this.position=d,this.value=c,b&&this.options.onSlide&&"function"==typeof this.options.onSlide&&this.options.onSlide.call(this,d,c)},m.prototype.getPositionFromNode=function(a){for(var b=0;null!==a;)b+=a.offsetLeft,a=a.offsetParent;return b},m.prototype.getRelativePosition=function(a){var b=l(this.COORDINATE),c=this.dom.range.getBoundingClientRect()[this.DIRECTION],d=0;return d="pointers"in a?a.pointers[0]["client"+b]:"touches"in a?a.touches[0]["client"+b]:a["client"+b],d-c},m.prototype.getPositionFromValue=function(a){var b,c;return b=(a-this.min)/(this.max-this.min),c=Number.isNaN(b)?0:b*this.maxHandlePos},m.prototype.getValueFromPosition=function(a){var b,c;return b=a/(this.maxHandlePos||1),c=this.step*Math.round(b*(this.max-this.min)/this.step)+this.min,Number(c.toFixed(this.toFixed))},m.prototype.setValue=function(a){a===this.value&&""!==this.dom.el.value||(this.dom.el.value=a,c(this.dom.el,"input"))},m.prototype.destroy=function(){var a;for(a=0;a<this.options.startEvent.length;a++)this.dom.range.removeEventListener(this.options.startEvent[a],this.bind.start);for(a=0;a<this.options.moveEvent.length;a++)document.documentElement.removeEventListener(this.options.moveEvent[a],this.bind.move);for(a=0;a<this.options.endEvent.length;a++)document.documentElement.removeEventListener(this.options.endEvent[a],this.bind.end);window.removeEventListener("resize",this.bind.resize),this.dom.el.removeAttribute("style"),this.dom.range&&this.dom.range.parentNode.removeChild(this.dom.range)},window.jQuery&&(jQuery.fn.rangeslider=function(a){var b=Array.prototype.slice.call(arguments,1);return this.each(function(){var c=jQuery(this),d=c.data("rangeslider");c.data("rangeslider",new m(this,a)),"string"==typeof a&&d[a].apply(d,b)})}),m});